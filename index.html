<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MindLoom â€“ preview</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>body{font-family:'Inter',sans-serif;}</style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-50 min-h-screen text-gray-800">

<!-- HEADER -->
<header class="bg-indigo-600 text-white p-4 shadow">
  <h1 class="text-xl font-semibold">MindLoom</h1>
  <p class="text-sm opacity-90">An AI friend until you get real help â€“ preview build</p>
</header>

<!-- MOOD CHECK-IN -->
<section class="p-4 max-w-3xl mx-auto">
  <h2 class="text-sm font-medium text-gray-500 mb-2">Quick mood check-in</h2>
  <div class="flex justify-around bg-white rounded-xl p-3 shadow">
    <button onclick="moodPick('ğŸ˜')" class="text-3xl hover:scale-125 transition">ğŸ˜</button>
    <button onclick="moodPick('ğŸ˜')" class="text-3xl hover:scale-125 transition">ğŸ˜</button>
    <button onclick="moodPick('ğŸ™‚')" class="text-3xl hover:scale-125 transition">ğŸ™‚</button>
    <button onclick="moodPick('ğŸ˜Š')" class="text-3xl hover:scale-125 transition">ğŸ˜Š</button>
    <button onclick="moodPick('ğŸ¤—')" class="text-3xl hover:scale-125 transition">ğŸ¤—</button>
  </div>
  <p id="moodMsg" class="text-xs text-center mt-2 text-gray-500"></p>
</section>

<!-- CHAT -->
<section class="p-4 max-w-3xl mx-auto">
  <h2 class="text-sm font-medium text-gray-500 mb-2">Chat with Loom</h2>
  <div id="chatBox" class="bg-white rounded-xl shadow h-80 p-3 overflow-y-auto space-y-2">
    <div class="flex justify-start">
      <div class="bg-indigo-100 text-indigo-900 rounded-2xl px-4 py-2 text-sm max-w-[75%]">
        Hey, Iâ€™m Loom. Iâ€™m not a therapistâ€”just a friend who listens. Whatâ€™s on your mind?
      </div>
    </div>
  </div>
  <div class="flex gap-2 mt-3">
    <input id="chatIn" onkeypress="if(event.key==='Enter') send()" class="flex-1 rounded-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Type hereâ€¦">
    <button onclick="send()" class="bg-indigo-600 text-white rounded-full px-5 py-2 text-sm">Send</button>
  </div>
</section>

<!-- JOURNAL -->
<section class="p-4 max-w-3xl mx-auto">
  <h2 class="text-sm font-medium text-gray-500 mb-2">Private journal (preview saves to browser)</h2>
  <textarea id="journal" class="w-full h-40 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Only you can read thisâ€”it's stored locally."></textarea>
  <button onclick="saveJournal()" class="mt-2 bg-indigo-600 text-white rounded-lg px-4 py-2 text-sm">Save</button>
  <span id="saveTick" class="ml-2 text-sm text-green-600 hidden">Saved âœ“</span>
</section>

<!-- RESOURCES -->
<section class="p-4 max-w-3xl mx-auto pb-32">
  <h2 class="text-sm font-medium text-gray-500 mb-2">Free & confidential helplines</h2>
  <div class="space-y-2">
    <a href="tel:18005990019" class="block bg-white rounded-lg p-3 shadow">
      <div class="font-medium text-indigo-600">KIRAN 24Ã—7</div>
      <div class="text-sm text-gray-600">1800-599-0019</div>
    </a>
    <a href="tel:9152987821" class="block bg-white rounded-lg p-3 shadow">
      <div class="font-medium text-indigo-600">iCall</div>
      <div class="text-sm text-gray-600">9152987821 â€¢ Mon-Sat 10 am-8 pm</div>
    </a>
    <a href="tel:18602662345" class="block bg-white rounded-lg p-3 shadow">
      <div class="font-medium text-indigo-600">Vandrevala Foundation</div>
      <div class="text-sm text-gray-600">1860-266-2345</div>
    </a>
  </div>
</section>

<!-- FOOTER -->
<footer class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 text-xs text-center p-3 text-gray-500">
  Preview only â€“ no data leaves this page. Crisis? Call 1800-599-0019.
</footer>

<script>
/* ---------- fake AI ---------- */
const replies = [
  "That sounds tough. Want to tell me more?",
  "I hear youâ€”lots of students feel this way before exams.",
  "It might help to jot this down in the journal above.",
  "You're not alone in this. Anything that triggered it today?",
  "Thanks for sharing. Is there a small thing youâ€™re looking forward to tomorrow?"
];
function randReply(){ return replies[Math.floor(Math.random()*replies.length)]; }

function send(){
  const inp = document.getElementById('chatIn');
  if(!inp.value.trim()) return;
  const box = document.getElementById('chatBox');
  box.insertAdjacentHTML('beforeend',`
    <div class="flex justify-end">
      <div class="bg-indigo-600 text-white rounded-2xl px-4 py-2 text-sm max-w-[75%]">${inp.value}</div>
    </div>`);
  inp.value=''; inp.disabled=true;
  setTimeout(()=>{
    box.insertAdjacentHTML('beforeend',`
      <div class="flex justify-start">
        <div class="bg-indigo-100 text-indigo-900 rounded-2xl px-4 py-2 text-sm max-w-[75%]">${randReply()}</div>
      </div>`);
    box.scrollTop=box.scrollHeight; inp.disabled=false; inp.focus();
  },1000);
}

/* ---------- mood ---------- */
function moodPick(emoji){
  document.getElementById('moodMsg').textContent = `You selected ${emoji} â€” logged locally.`;
  localStorage.setItem('mood',emoji);
}

/* ---------- journal ---------- */
window.onload = () => document.getElementById('journal').value = localStorage.getItem('journal') || '';
function saveJournal(){
  localStorage.setItem('journal', document.getElementById('journal').value);
  const tick = document.getElementById('saveTick'); tick.classList.remove('hidden');
  setTimeout(()=>tick.classList.add('hidden'),2000);
}
</script>
</body>
</html>
